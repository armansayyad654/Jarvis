<!DOCTYPE html>
<html>
<head>
  <title>Jarvis Assistant</title>
  <style>
    body {
      background-color: #111;
      color: #0f0;
      font-family: monospace;
      text-align: center;
      padding: 50px;
    }
    h1 {
      color: #0ff;
    }
    #status {
      font-size: 1.2rem;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>ü§ñ JARVIS IS ONLINE</h1>
  <p id="status">Say something like "Jarvis, open YouTube"</p>

  <script>
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = 'en-US';
    recognition.continuous = true;
    recognition.start();

    const synth = window.speechSynthesis;

    function speak(text) {
      const utter = new SpeechSynthesisUtterance(text);
      synth.speak(utter);
    }

    recognition.onresult = async (event) => {
      const transcript = event.results[event.results.length - 1][0].transcript.toLowerCase();
      document.getElementById("status").innerText = "You said: " + transcript;

      if (transcript.includes("open youtube")) {
        speak("Opening YouTube");
        window.open("https://www.youtube.com", "_blank");
      }

      else if (transcript.includes("open google")) {
        speak("Opening Google");
        window.open("https://www.google.com", "_blank");
      }

      else if (transcript.includes("search for")) {
        const query = transcript.split("search for")[1];
        speak("Searching Google for " + query);
        window.open("https://www.google.com/search?q=" + encodeURIComponent(query.trim()), "_blank");
      }

      else if (transcript.includes("write python code for")) {
        const task = transcript.split("write python code for")[1].trim();
        speak("Writing Python code for " + task);
        const code = await fetchPythonCode(task);
        alert("Here's the code:\n\n" + code);
      }

      else if (transcript.includes("what time is it")) {
        const now = new Date();
        const timeString = now.toLocaleTimeString();
        speak("The time is " + timeString);
      }

      else if (transcript.includes("tell me a joke")) {
        const jokes = [
          "Why don't programmers like nature? It has too many bugs.",
          "Why do Java developers wear glasses? Because they don‚Äôt C sharp.",
          "Why did the programmer quit his job? Because he didn‚Äôt get arrays."
        ];
        const joke = jokes[Math.floor(Math.random() * jokes.length)];
        speak(joke);
      }

      else if (transcript.includes("what is your name")) {
        speak("I am Jarvis, your voice assistant.");
      }

      else if (transcript.includes("how are you")) {
        speak("I'm functioning at full capacity. Thanks for asking.");
      }

      else {
        speak("Sorry, I didn't understand that.");
      }
    };

    async function fetchPythonCode(task) {
      const response = await fetch("https://api.openai.com/v1/completions", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": "Bearer YOUR_API_KEY_HERE" // üîê Replace with your API key
        },
        body: JSON.stringify({
          model: "text-davinci-003",
          prompt: "Write Python code to " + task,
          max_tokens: 150,
          temperature: 0.5
        })
      });

      const data = await response.json();
      return data.choices[0].text.trim();
    }
  </script>
</body>
</html>